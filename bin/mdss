#!/usr/bin/env ruby
require 'optparse'
require 'mdss'

options = {:name => nil, :launch => false}
mdss_helper = MDSS.get_extra

parser = OptionParser.new do |opts|
    opts.banner = "Usage: mdss [options]"

    opts.on("-i", "--init <NAME>", "Create a new simple static site with GFM") do |name|
        options[:name] = name
    end

    opts.on("-l", "--launch", "Compile and upload to the big wide world") do
        options[:launch] = true
        exit
    end

    opts.on("-h", "--help", "Display help menu") do
        puts opts
        exit
    end
end

begin parser.parse!
rescue OptionParser::MissingArgument => e
    mdss_helper.puts_err("Missing site name")
end

if options[:launch]
    mdss_helper.puts_err("Unsupported behavior")
else
    MDSS.mdss_init options[:name]
end
